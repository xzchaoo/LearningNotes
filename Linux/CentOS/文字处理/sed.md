sed -e 's/pattern/replacement/flag' file

-e 指定执行的脚本语句, -e可以使用多次, 每条语句可以用';'隔开, 这样也能一次性执行多条语句

-f 指定脚本文件
如果要做的操作比较多的话就要用脚本文件了

-n 表示除非这行有 flag p 否则不输出

s 表示替换
pattern 要替换的内容 可以是正则
replacement 替换后的内容
flag: g全局 i忽略大小写

p 表示这一行要进行输出

默认的结果输出到stdout, 需要自己重定向


sed
g 全局替换
p 打印原始内容
如果是一个数字就表示替换第几个匹配的pattern
w表示将修改结果写入文件

p行和-n一起使用
-n: 除非该行满足p标记, 否则不输出

sed允许使用不同的字符作为分隔符
比如:
s/a/b/ 和 s!a!b! 是一样的效果
这样可以

# sed的地址 #
n 表示第n行
n,m 表示n~m行
$ 表示最后一行

还是利用正则表达式来定位
/pattern/command/pattern/replacement/flag

sed的命令
s 替换
d 删除
i 在行之前插入文本
a 在行之后插入文本
c 替换整行
p 打印改行, 配合 -n(禁止打印) 就可以只输出某些行
w 表示将文本行写入文件
r 表示将从某个文本里读取行
n 移动到下一行
N 将下一行添加到当前的模式空间中 

$i测试
在最后一行之前加上"测试n"

$d
删除最后一行

5d
删除第5行

符合命令
```
{
	p
	s/line/test/p
}
```

删除偶数行
sed -e 'n;d;' 1.txt

将两行合并成一行
sed -e 'N;s!\n! !'

为每一行添加行号
cat 1.txt | sed -e '=' | sed -e 'N;s!\n! !'
后面的管道是将两行合并成一行


模式空间是当前操作所在的行的集合
保留空间是一块缓存区域

h 将模式空间复制到保留空间
H 将模式空间追加到保留阔能构建
g 将保留空间复制到模式空间
G 将保留空间追加到某事空间
x 将模式空间和保留空间的内容交换

!表示反命令
!p 表示不打印
!N 表示没有最下一行, 也就是当前行是最后一行

/./,/^$/!d
处于 /./ ~ /^$/ 范围里的行不删除

/./,$!d
删除开头的空行
表示 /./ 到最后一行不删除
/./ 表示任何由内容的字符
