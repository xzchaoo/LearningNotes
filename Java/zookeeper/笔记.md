# 节点操作 #

## 创建 ##
永久 临时
获取数据 设置数据
获取儿子
判断是否存在

节点的路径名用一些特殊字符, 在这里看
http://zookeeper.apache.org/doc/r3.4.10/zookeeperProgrammers.html

## 节点 ##
每个节点叫做znode
有创建时间 版本号 数据 路径名
每个节点可以有ACL

### 节点状态 ###
czxid 创建该节点的zxid
mzxid 修改该节点的zxid
pzxid 修改该节点的字节点的zxid
ctime mtime
version
cversion 儿子的修改次数
aversion 该节点的ACL的修改次数
dataLength 该节点的数据长度
numChildren 该节点的儿子节点数


## 监听 ##
zk不用于大量的存储, 要尽量保证小

# ZK连接串 #
chroot=基础路径, 默认是/


# ZK Session #
每个客户端与ZK服务建立一个session
CONNECTING -> CONNECTED


# zk中的时间 #
每个操作够会产生一个zxid, zxid小的操作一定比zxid大的操作早结束



# 一些例子 #

## 锁 ##
每个锁都有一个名字, 比如 /lock/user/70862045
想要获取锁的时候使用 create /lock/user/70862045 "随便写一些数据 或 一些有用的数据来表明锁的拥有者"
如果创建成功那么你就获得了锁 否则就是没有获得索
由于没有超时的机制, 你必须将该节点设置成临时节点, 这样如果锁的拥有者崩溃了 那么节点自动撤销, 但是你也要保证锁的拥有者记得释放锁

## 主从 ##
假设 n个节点
1. 尝试创建 /master, 并且监听, 成功者就是master 否则都是slave
2. 上面监听了 /master 的情况, 如果发现 /master 被删除了 则再次进行1的动作

通常 /master 里的数据可以是当前拥有者的一些信息


# 安全 #


# 集群配置 #


