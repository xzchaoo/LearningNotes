到这里可以看到很多的函数及其语法
http://freemarker.org/docs/ref.html

1. 取值方式跟el表达式一样 ${user.name}
2. 框架默认提供的标签要这样用 <#if user.nage < 18>...<#else>...</#if>



## 注意事项 ##
- 如果想要在表达式里面使用 '>' 等一些敏感符号的时候 可以考虑使用 lt gt之类的来代替 否则可能解析错误
- 如果输出的时候数字变成12,345 可能是由于区域的问题,这时候可以使用${money?c}输出 应该就不会出现逗号了

## 常用指令 ##
if
### list ###
```html
<ul>
<#list users as user>
	<li>${user.name}</li>
</#list>
</ul>
```
或, 下面这个与上面的区别就在于 上面一定会生成ul标签 而下面这个只有在users不为空的情况下才会声场ul标签
```html
<#list users>
<ul>
	<#items as user>
	<li>${user.name}</li>
	</#items>
</ul>
</#list>
```
list还可以与sep,else标签一起用,具体看官网
`输入`
```html
<p>Fruits: <#list misc.fruits as fruit>${fruit}<#sep>, </#list>
```
`输出`
```html
<p>Fruits: orange, banana
```
### include ###
```html
<#include "/copyright_footer.html">
```

## 内置指令 ##
格式: user?指令名 比如 user?upper_case
## 常用内置指令 ##
指令名|描述
:--|:--
html|将内容进行转义
string|string("YES","NO") ${user.age gt 18 ? string('成年人','未成年人')},一定程度上可以达到三目运算符的效果
简单:upper_case,length,size,cap_first

当与list一起用的时候比如 <#list users as user>...
此时可以使用 user?index ?count ?item_parity获取迭代的信息

## 默认值 ##
${name!"xzchaoo"}
${(user.name)!"xzchaoo"}
## 判断是否存在属性 ##
<# if user.father.name??> 如果中间的任何一环不存在都会导致异常
<# if (user.father.name)??> 用括号括起来,如果中间任何一环不存在都会导致false

## 注释 ##
<#-- 内容 -->

## 表达式例子 ##
字符串:"I'm Mike." 数组["a","b",123] 范围:0..9 0..<10(0..!10) 0..(相当于是无穷大了?)
切片 users[0..4](前5个,这里两个数都是表示索引) users[0..<5](前5个) users[1..*5](*5表示的是长度为5)
数组相加 users+["xzc"]
map相加 map+{"name":"xzc"}
name?lower_case, path?ensure_starts_with('/')

## 赋值 ##
<# assign s="你好,${user.name}"/>
下面子这个也行,注意下面这个并不需要${}括起来
<# assign s="你好,"+user.name/>


## 方法调用 ##
${repeat("Foo", 3)}
## 自定义方法 ##


## 批量转义 ##
被escape标记的区域里的所有输出都会被自动转义
除非你用noescape括起来
```html
<#escape x as x?html>
  ...
  <p>Title: ${book.title}</p>
  <p>Description: <#noescape>${book.description}</#noescape></p>
  <h2>Comments:</h2>
  <#list comments as comment>
    <div class="comment">
      ${comment}
    </div>
  </#list>
  ...
</#escape>
```

## 日期/时间内置指令 ##
date_format,time_format,datetime_format


## 自定义志林 ##
```html
<#macro greet count=2> 这里可以用默认值
	${greet}
 	<font size="+2">Hello Joe!</font>
 	<ul>
 	<#list 0..<count as i>
 		<li><#nested i/></li>
 	</#list>
 	</ul>
</#macro>
```
调用的时候
```html
<@greet greet="你好啊" count=3; i>
	我是内容${i}
</@greet>
```

## 变量 ##
在macro里定义的叫做local变量
由list产生的叫做循环变量
普通变量 通过assign 进行创建
之间的区别看官网
一般用下面的就行了
<#assign x = 1>
<#assign x = x+ 1>
<#assign ++x>


## 库 ##
导入同一个库多次的时候 实际上只会导入一次 但这样它就可以有多个名字了
http://freemarker.org/docs/dgui_misc_namespace.html
就是写一个ftl文件放在某个地方
然后
<#import "/lib/my_test.ftl" as my> <#-- the hash called "my" will be the "gate" -->
<@my.copyright date="1999-2002"/>
${my.mail}
copyright和mail都是my这个命名空间里面的属性
想要修改的时候要这样
<#assign mail="jsmith@other.com" in my>

## 使用[]语法 ##
在文件的开头加上[#ftl]
然后就可以使用[]了
```html
[#if][/#if]
```


## 模板配置 ##
用到Configuration类
defaultEncoding
Shared variables(好像就是所有由该cfg产生的Template都具有的变量吧)

拿到模板
Template t = cfg.getTemplate("ftl文件路径");
t.process(root,writer);
root是上下文的根对象

